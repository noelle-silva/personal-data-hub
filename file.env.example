# 附件系统配置文件
# 复制此文件为 file.env 并根据需要修改配置

# MongoDB集合名称配置
ATTACHMENT_COLLECTION=attachments

# 附件存储路径配置（支持绝对路径或相对项目根目录的相对路径）
# 图片存储路径
ATTACHMENTS_IMAGE_DIR=backend/attachments/images
# 视频存储路径
ATTACHMENTS_VIDEO_DIR=backend/attachments/videos
# 文档文件存储路径
ATTACHMENTS_FILE_DIR=backend/attachments/document-file
# 程序与脚本文件存储路径
ATTACHMENTS_SCRIPT_DIR=backend/attachments/scripts


# 图片上传限制配置
# 最大图片文件大小（字节），默认10MB
ATTACHMENTS_MAX_IMAGE_SIZE=10485760
# 允许的图片MIME类型，逗号分隔
ATTACHMENTS_ALLOWED_IMAGE_TYPES=image/png,image/jpeg,image/webp,image/gif

# 视频上传限制配置
# 最大视频文件大小（字节），默认1GB
ATTACHMENTS_MAX_VIDEO_SIZE=1073741824
# 允许的视频MIME类型，逗号分隔
ATTACHMENTS_ALLOWED_VIDEO_TYPES=video/mp4,video/webm,video/ogg,video/quicktime,video/x-msvideo,video/x-matroska,video/x-flv

# 文档上传限制配置
# 最大文档文件大小（字节），默认50MB
ATTACHMENTS_MAX_DOCUMENT_SIZE=52428800
# 允许的文档MIME类型，逗号分隔
ATTACHMENTS_ALLOWED_DOCUMENT_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/epub+zip,application/epub

# 程序与脚本上传限制配置
# 最大程序与脚本文件大小（字节），默认10MB
ATTACHMENTS_MAX_SCRIPT_SIZE=10485760
# 允许的程序与脚本MIME类型，逗号分隔
ATTACHMENTS_ALLOWED_SCRIPT_TYPES=text/x-python,application/x-msdos-program,text/x-shellscript,application/javascript,text/x-c++src,application/x-msdownload,text/javascript

# 鉴权配置
# 用于生成签名URL的密钥（请更改为强随机字符串）
ATTACHMENTS_SECRET=your-attachment-secret-key-change-this-in-production
# Bearer Token鉴权密钥（请更改为强随机字符串）
ATTACHMENTS_BEARER_TOKEN=your-attachment-bearer-token-change-this-in-production

# 签名URL配置
# 签名URL有效期（秒），默认1小时
ATTACHMENTS_SIGNED_URL_TTL=3600

# 去重策略配置
# 是否启用基于内容哈希的去重（true/false），默认关闭
ATTACHMENTS_ENABLE_DEDUPLICATION=false

# 缓存配置
# 附件缓存控制（秒），默认1小时
ATTACHMENTS_CACHE_TTL=3600

# 临时文件配置
# 临时文件存储目录（用于大文件上传）
ATTACHMENTS_TMP_DIR=attachments/tmp

# Range请求配置
# 是否启用Range请求支持（用于视频分段加载）
ATTACHMENTS_ENABLE_RANGE=true

# 多文件上传配置
# 每次允许上传的最大文件数量（按类别）
ATTACHMENTS_MAX_IMAGE_FILES=10
ATTACHMENTS_MAX_VIDEO_FILES=3
ATTACHMENTS_MAX_DOCUMENT_FILES=10
ATTACHMENTS_MAX_SCRIPT_FILES=10